% Generated by roxygen2 (4.0.2): do not edit by hand
\name{es_benchmark}
\alias{es_benchmark}
\title{Run benchmark tests}
\usage{
es_benchmark(raw = FALSE, callopts = list(), query = list(), ...)
}
\arguments{
\item{raw}{If TRUE (default), data is parsed to list. If FALSE, then raw JSON.}

\item{callopts}{Curl args passed on to httr::POST.}

\item{query}{Query, either a list or json.}

\item{...}{Further args passed on to elastic search HTTP API as parameters. Not used right now.}

\item{index}{Index name}

\item{type}{Document type}
}
\description{
Run benchmark tests
}
\examples{
\donttest{
# pass in as an R list
args <- list(name = "b1", competitors = list(name = "c1", requests = list(query = list(match = "a*"))))
es_benchmark(index="shakespeare", query=aggs)

# or pass in as json query with newlines, easy to read
aggs <- '{
"name": "b1",
"competitors": [ {
"name": "c1",
  "requests": [ {
    "query": {
      "match": { "_all": "a*" }
    }
  } ]
} ]
}'
es_benchmark(query=aggs)

# or pass in collapsed json string
aggs <- '{"aggs":{"stats":{"terms":{"field":"text_entry"}}}}'
es_search_body(index="shakespeare", query=aggs)

# match query
match <- '{"query": {"match" : {"text_entry" : "Two Gentlemen"}}}'
es_search_body(index="shakespeare", query=match)

# multi-match (multiple fields that is) query
mmatch <- '{"query": {"multi_match" : {"query" : "henry", "fields": ["text_entry","play_name"]}}}'
es_search_body(index="shakespeare", query=mmatch)

# bool query
mmatch <- '{
 "query": {
   "bool" : {
     "must_not" : {
       "range" : {
         "speech_number" : {
           "from" : 1, "to": 5
}}}}}}'
}
}

